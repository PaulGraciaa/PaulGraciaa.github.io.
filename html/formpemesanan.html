<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Form Pemesanan</title>
  <link rel="stylesheet" href="../css/formpemesanan.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet"/>
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>

<body>

  <!-- Header -->
  <div class="header">
    <div class="nav-container">
      <img src="../img/logo.png" class="logo" alt="Logo Hotel" />
      <div class="nav">
        <a href="home.html">Home</a>
        <a href="rooms.html">Room & Suites</a>
        <a href="facility.html">Facility</a>
        <a href="gallery.html">Gallery</a>
        <a href="booking.html">Booking</a>
        <!-- Ikon Notifikasi & Profil -->
        <a href="Register.html"><i class="fas fa-user-circle"></i></a>
        <a href="notifikasi.html"><i class="fas fa-bell"></i></a>
      </div>
    </div>
  </div>

  <!-- Konten Form Pemesanan -->
  <div class="form-container">
    <h2>FORM PEMESANAN</h2>
    <form class="booking-form">
      <div class="form-left">
        <label>Nama Pemesan :</label>
        <input type="text" placeholder="Masukkan nama" />

      <label>Email :</label>
      <input
        type="email"
        id="email"
        placeholder="username@gmail.com / username@yahoo.com"
        required
        title="Masukkan alamat Gmail atau Yahoo"
      />

      <script>
        document.querySelector('form').addEventListener('submit', function(e) {
          const email = document.getElementById('email').value.trim().toLowerCase();
          
          // Pola hanya untuk Gmail dan Yahoo
          const validPattern = /^[a-z0-9._%+-]+@(gmail\.com|yahoo\.com)$/;

          if (!validPattern.test(email)) {
            e.preventDefault(); // Blokir pengiriman form
            alert('Hanya alamat Gmail atau Yahoo yang diperbolehkan (contoh: user@gmail.com atau user@yahoo.com).');
            document.getElementById('email').focus();
            
            // Jika ada fungsi perhitungan biaya, pastikan itu juga tidak dijalankan
            return false;
          }
        });
      </script>

        <label>Jenis Kelamin :</label>
        <div class="gender-options">
          <label><input type="radio" name="gender" /> Laki - Laki</label>
          <label><input type="radio" name="gender" /> Perempuan</label>
        </div>

        <label>Nomor Identitas (NIK) :</label>
        <input type="text" placeholder="Masukkan nomor NIK" />

        <label>Tipe Kamar :</label>
        <select>
          <option selected disabled>Pilih tipe kamar</option>
          <option>Standard</option>
          <option>Deluxe</option>
          <option>Superior</option>
        </select>
      </div>

      <div class="form-right">

        <label>No Handphone :</label>
        <input 
          type="text" 
          id="nohp" 
          placeholder="Masukkan No Handphone" 
          maxlength="11" 
          required 
        />

        <script>
          document.getElementById('nohp').addEventListener('input', function(e) {
            // Hanya simpan digit angka, maksimal 11 digit
            this.value = this.value.replace(/\D/g, '').slice(0, 11);
          });
        </script>


        <label>Harga :</label>
        <input type="text" id="harga-per-malam" value="Rp. 0,000,000" disabled />

        <label>Tanggal Pesan :</label>
        <input type="date" />

        <label>Durasi Menginap (Malam) :</label>
        <select name="durasi">
          <option value="0">0</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
        </select>

        <label><input type="checkbox" id="breakfast" checked /> Termasuk Breakfast</label>

        <label>Total Biaya :</label>
        <input type="text" id="total-biaya" value="Rp. 0,000,000" disabled />
      </div>

      <div class="form-buttons">
        <button type="button" class="btn hitung">Hitung Total Bayaran</button>
        <button type="button" class="btn booking" onclick="window.location.href='pembayaran.html'">Booking</button>
        <button type="reset" class="btn cancel">Cancel</button>
      </div>
    </form>
  </div>

<!-- Footer pada bagian bawah-->
   <footer class="footer">
        <div class="footer-content">
            <h2>SEASIDE</h2>
            <div class="footer-columns">
                <div>
                    <h4>About</h4>
                    <a href="Aboutus.html">About Us</a>
                    <a href="Aboutus.html">Careers</a>
                    <a href="Aboutus.html">Contact Us</a>
                </div>
                <div>
                    <h4>Reservations</h4>
                    <a href="booking.html">Request an invoice</a>
                    <a href="booking.html">Find a reservation</a>
                    <a href="booking.html">Email Preferences</a>
                </div>
                <div>
                    <h4>News</h4>
                    <a href="news.html">Press Room</a>
                    <a href="news.html">New Openings</a>
                    <a href="news.html">Magazine</a>
                    <a href="news.html">Newsletter</a>
                </div>
            </div>

            <div class="socials">
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#" target="_blank"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-youtube"></i></a>
            </div>

            <hr class="footer-separator" />
            <div class="legal">
                <a href="#">Legal Notice</a> ` 
                <a href="#">Privacy Policy</a> ` 
                <a href="#">Cookie Preferences</a> ` 
                <a href="#">Cookie Accessibility Policy</a> `
            </div>
        </div>
    </footer>

</body>
</html>



  <!-- Script JavaScript -->
  <script>
    document.querySelector('.hitung').addEventListener('click', function () {
      const hargaPerMalam = 3000000;
      const durasi = parseInt(document.querySelector('select[name="durasi"]').value);
      const breakfastChecked = document.getElementById('breakfast').checked;

      let totalHarga = hargaPerMalam * durasi;

      if (breakfastChecked) {
        totalHarga += 100000 * durasi; // Tambah biaya breakfast per malam
      }

      document.getElementById('harga-per-malam').value = formatRupiah(hargaPerMalam);
      document.getElementById('total-biaya').value = formatRupiah(totalHarga);
    });

    function formatRupiah(angka) {
      return 'Rp. ' + angka.toLocaleString('id-ID');
    }
  </script>

</body>
</html>